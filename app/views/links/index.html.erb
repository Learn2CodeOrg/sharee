<style>
  .hide {
    display: none !important;
  }
  .pull-right {
    float: right;
  }
</style>
<script>
  $(document).ready(function() {
    $('#total-switch').on('click', function(e) {
      e.preventDefault();
      $('.total-value-block').removeClass('hide');
      $('.new-value-block').addClass('hide');
    });
    $('#new-switch').on('click', function(e) {
      e.preventDefault();
      $('.total-value-block').addClass('hide');
      $('.new-value-block').removeClass('hide');
    });
  });
</script>

<%= content_for :page_title, 'Zdieľané odkazy' %>

<div class="pull-right">
  <a href="#" id="total-switch">Celkovo</a>,
  <a href="#" id="new-switch">Nevyplatene</a>
</div>

<h1>Zdieľané odkazy</h1>

<div class="container overview-icons">

  <div class="col-4 centered">
    <span class="icon icon-publish big-icon"></span><br>
    <strong><%= @data[:total_open] %></strong> návštev
  </div>

  <div class="col-4 centered">
    <span class="icon icon-shopping-basket big-icon"></span><br>
    <strong><%= @data[:total_sell] %></strong> predajov
  </div>

  <div class="col-4 centered">
    <div class="highlighted-icon">
      <span class="icon icon-wallet big-icon"></span><br>
      <span class="hide total-value-block"><strong><%= @data[:total_commission] %>€</strong> provízia</span>
      <span class="new-value-block"><strong><%= @data[:new_total_commission] %>€</strong> provízia</span>
    </div>
  </div>
</div>

<ul class="campaigns-list">
  <% @data[:campaigns].each do |campaign| %>
    <li class="one-campaign">
      <span class="name"><%= campaign[:name] %></span><br>

      <span class="number">
        <%= campaign[:links_count] %>
      </span> <span class="description">Odkazov</span> <span class="separator">|</span>

      <span class="number">
        <%= campaign[:open_count] %>
      </span> <span class="description">Otvorení</span> <span class="separator">|</span>

      <span class="hide total-value-block">
        <span class="number">
          <%= campaign[:sell_count] %>
        </span> <span class="description">Predajov</span> <span class="separator">|</span>
      </span>

      <span class="new-value-block">
        <span class="number">
          <%= campaign[:new_sell_count] %>
        </span> <span class="description">Predajov</span> <span class="separator">|</span>
      </span>

      <span class="hide total-value-block">
        <span class="number">
          <%= campaign[:commission_count] %> &euro;
        </span> <span class="description">Provizie</span>
      </span>

      <span class="new-value-block">
        <span class="number">
          <%= campaign[:new_commission_count] %> &euro;
        </span> <span class="description">Provizie</span>
      </span>
    </li>
  <% end %>
</ul>
